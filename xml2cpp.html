<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>dbus-cxx: dbus-cxx-xml2cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <div id="projectlogo"><a href="index.html"><img alt="dbus-cxx Logo" src="dbus-cxx-logo-med.png"/></a></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">dbus-cxx-xml2cpp </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__home_robert_dbus_cxx_doc_xml2cpp"></a></p>
<h1><a class="anchor" id="autotoc_md39"></a>
Summary</h1>
<p>dbus-cxx-xml2cpp generates proxy and adapter interfaces from modified <a class="el" href="namespaceDBus.html" title="Global DBus namespace, where everything happens.">DBus</a> XML introspection documents. By default, will print out a single(header-only) class to <code>stdout</code>. When sending to a file with <code>-f</code>, will create a .cpp and .h file.</p>
<h1><a class="anchor" id="autotoc_md40"></a>
Commands</h1>
<ul>
<li><code>-x/--xml</code> : The xml file to process</li>
<li><code>-p/--prefix</code> : A prefix to prepend to all output files</li>
<li><code>-f/--file</code> : Send output to files with naming <em>class</em>_proxy.h and <em>class</em>_adapter.h. <br  />
 Does not take any arguments, filename will be based on introspection document.</li>
<li><code>--proxy</code> : Generate a proxy interface. Used for when you want to talk to a remote application over the bus.</li>
<li><code>--adapter</code> : Generate an adapter interface. Used for when you want to implement an interface.</li>
<li><code>--verbose</code> : Generate verbose processing info</li>
</ul>
<h1><a class="anchor" id="autotoc_md41"></a>
Extended DBus XML attributes</h1>
<p>dbus-cxx-xml2cpp in some cases needs information above and beyond that provided in a dbus introspection document. This information can be supplied by adding additional attributes to key nodes.</p>
<p>The extended attributes per XML element are:</p><ul>
<li>node<ul>
<li><b>cppname</b> - The base name of the c++ class adapter and proxy</li>
<li><b>gen-namespace</b> - The namespace the c++ adapter and proxy will be generated into</li>
<li><b>dest</b> - Used to create a default value for the <code>dest</code> parameter of a proxy(e.g. <code>org.freedesktop.Notifications</code>)</li>
<li><b>path</b> - Used to create a default value for the <code>path</code> parameter of both proxies and adapters(e.g. <code>/org/freedesktop/Notifications</code>)</li>
</ul>
</li>
<li>interface<ul>
<li><b>ignored</b> - If set to "true" this interface will not be built for the proxy or adapter</li>
<li><b>cppname</b> - The The name of the generated C++ interface class</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md42"></a>
Proxy Example</h1>
<p>The following is an example of a <a class="el" href="namespaceDBus.html" title="Global DBus namespace, where everything happens.">DBus</a> introspection document from <a href="https://github.com/lathiat/avahi/blob/d1e71b320d96d0f213ecb0885c8313039a09f693/avahi-daemon/org.freedesktop.Avahi.ServiceBrowser.xml">Avahi</a> (with the appropriate dbus-cxx annotations):</p>
<div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span> <span class="keyword">standalone</span>=<span class="stringliteral">&#39;no&#39;</span>?&gt;<span class="comment">&lt;!--*-nxml-*--&gt;</span></div>
<div class="line">&lt;?<span class="keyword">xml-stylesheet</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;text/xsl&quot;</span> <span class="keyword">href</span>=<span class="stringliteral">&quot;introspect.xsl&quot;</span>?&gt;</div>
<div class="line">&lt;!<span class="keyword">DOCTYPE</span> <span class="keyword">node</span> <span class="keyword">SYSTEM</span> <span class="stringliteral">&quot;introspect.dtd&quot;</span>&gt;</div>
<div class="line"> </div>
<div class="line"><span class="comment">@˚a&#x241A;</span></div>
<div class="line"><span class="comment">–
à&#x241A;&#x2401;V</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">`cü&#x241A;&#x2401;V</span></div>
<div class="line"><span class="comment">`cü&#x241A;&#x2401;V</span></div>
<div class="line"><span class="comment">`cü&#x241A;&#x2401;V</span></div>
<div class="line"><span class="comment">@`pxØ</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">`cü&#x241A;&#x2401;V</span></div>
<div class="line"><span class="comment">`cü&#x241A;&#x2401;V</span></div>
<div class="line"><span class="comment">`cü&#x241A;&#x2401;V</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">`cü&#x241A;&#x2401;V</span></div>
<div class="line"><span class="comment">`cü&#x241A;&#x2401;V</span></div>
<div class="line"><span class="comment">`cü&#x241A;&#x2401;V</span></div>
<div class="line"><span class="comment">@˚a&#x241A;&#x2401;V</span></div>
<div class="line"><span class="comment">--&gt;</span></div>
<div class="line"> </div>
<div class="line">&lt;<span class="keywordtype">node</span> <span class="keyword">cppname</span>=<span class="stringliteral">&quot;ServiceBrowser&quot;</span> <span class="keyword">gen-namespace</span>=<span class="stringliteral">&quot;Avahi&quot;</span>&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">interface</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;org.freedesktop.DBus.Introspectable&quot;</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">method</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Introspect&quot;</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">arg</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;data&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;s&quot;</span> <span class="keyword">direction</span>=<span class="stringliteral">&quot;out&quot;</span> /&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">method</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">interface</span>&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;<span class="keywordtype">interface</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;org.freedesktop.Avahi.ServiceBrowser&quot;</span>&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;<span class="keywordtype">method</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Free&quot;</span>/&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;<span class="keywordtype">method</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Start&quot;</span>/&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;<span class="keywordtype">signal</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;ItemNew&quot;</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">arg</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;interface&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;i&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">arg</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;protocol&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;i&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">arg</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;name&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;s&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">arg</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;type&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;s&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">arg</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;domain&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;s&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">arg</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;flags&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;u&quot;</span>/&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">signal</span>&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;<span class="keywordtype">signal</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;ItemRemove&quot;</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">arg</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;interface&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;i&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">arg</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;protocol&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;i&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">arg</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;name&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;s&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">arg</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;type&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;s&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">arg</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;domain&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;s&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">arg</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;flags&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;u&quot;</span>/&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">signal</span>&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;<span class="keywordtype">signal</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;Failure&quot;</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">arg</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;error&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;s&quot;</span>/&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">signal</span>&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;<span class="keywordtype">signal</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;AllForNow&quot;</span>/&gt;</div>
<div class="line"> </div>
<div class="line">    &lt;<span class="keywordtype">signal</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;CacheExhausted&quot;</span>/&gt;</div>
<div class="line"> </div>
<div class="line">  &lt;/<span class="keywordtype">interface</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">node</span>&gt;</div>
</div><!-- fragment --><p>To make a proxy, run <code>dbus-cxx-xml2cpp</code> as follows: </p><pre class="fragment">dbus-cxx-xml2cpp  --proxy --xml=/path/to/org.freedesktop.Avahi.ServiceBrowser.xml --file
</pre><p> Several files will be output for this introspection file, one <code>ObjectProxy</code>:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#ifndef SERVICEBROWSERPROXY_H</span></div>
<div class="line"><span class="preprocessor">#define SERVICEBROWSERPROXY_H</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;dbus-cxx.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;org_freedesktop_Avahi_ServiceBrowserProxy.h&quot;</span></div>
<div class="line"><span class="keyword">namespace </span>Avahi {</div>
<div class="line"><span class="keyword">class </span>ServiceBrowserProxy</div>
<div class="line"> : <span class="keyword">public</span> <a class="code" href="classDBus_1_1ObjectProxy.html">DBus::ObjectProxy</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">ServiceBrowserProxy(std::shared_ptr&lt;DBus::Connection&gt; conn, std::string dest, std::string path, <a class="code" href="namespaceDBus.html#afe27044063df28784038ce01c2e7f525">DBus::ThreadForCalling</a> signalCallingThread = <a class="code" href="namespaceDBus.html#afe27044063df28784038ce01c2e7f525a5e4ad822bb12635d22f90ab2259ff7fa">DBus::ThreadForCalling::DispatcherThread</a> );</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> std::shared_ptr&lt;ServiceBrowserProxy&gt; create(std::shared_ptr&lt;DBus::Connection&gt; conn, std::string dest, std::string path, <a class="code" href="namespaceDBus.html#afe27044063df28784038ce01c2e7f525">DBus::ThreadForCalling</a> signalCallingThread = <a class="code" href="namespaceDBus.html#afe27044063df28784038ce01c2e7f525a5e4ad822bb12635d22f90ab2259ff7fa">DBus::ThreadForCalling::DispatcherThread</a> );</div>
<div class="line">    std::shared_ptr&lt;Avahi::org_freedesktop_Avahi_ServiceBrowserProxy&gt; getorg_freedesktop_Avahi_ServiceBrowserInterface( );</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    std::shared_ptr&lt;Avahi::org_freedesktop_Avahi_ServiceBrowserProxy&gt; m_org_freedesktop_Avahi_ServiceBrowserProxy;</div>
<div class="line">};</div>
<div class="line">} <span class="comment">/* namespace Avahi */</span></div>
<div class="line"><span class="preprocessor">#endif </span><span class="comment">/* SERVICEBROWSERPROXY_H */</span><span class="preprocessor"></span></div>
<div class="ttc" id="aclassDBus_1_1ObjectProxy_html"><div class="ttname"><a href="classDBus_1_1ObjectProxy.html">DBus::ObjectProxy</a></div><div class="ttdoc">Object proxies are local proxies that provide local methods and signals for remote objects with dbus ...</div><div class="ttdef"><b>Definition:</b> objectproxy.h:44</div></div>
<div class="ttc" id="anamespaceDBus_html_afe27044063df28784038ce01c2e7f525"><div class="ttname"><a href="namespaceDBus.html#afe27044063df28784038ce01c2e7f525">DBus::ThreadForCalling</a></div><div class="ttdeci">ThreadForCalling</div><div class="ttdoc">Gives hints to the connection as to which thread should be the one to call the methods on the given o...</div><div class="ttdef"><b>Definition:</b> enums.h:132</div></div>
<div class="ttc" id="anamespaceDBus_html_afe27044063df28784038ce01c2e7f525a5e4ad822bb12635d22f90ab2259ff7fa"><div class="ttname"><a href="namespaceDBus.html#afe27044063df28784038ce01c2e7f525a5e4ad822bb12635d22f90ab2259ff7fa">DBus::ThreadForCalling::DispatcherThread</a></div><div class="ttdeci">@ DispatcherThread</div><div class="ttdoc">Always call methods for this object from the dispatcher thread.</div></div>
</div><!-- fragment --><p>And one <code>InterfaceProxy</code>:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#ifndef ORG_FREEDESKTOP_AVAHI_SERVICEBROWSERPROXY_H</span></div>
<div class="line"><span class="preprocessor">#define ORG_FREEDESKTOP_AVAHI_SERVICEBROWSERPROXY_H</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;dbus-cxx.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><span class="keyword">namespace </span>Avahi {</div>
<div class="line"><span class="keyword">class </span>org_freedesktop_Avahi_ServiceBrowserProxy</div>
<div class="line"> : <span class="keyword">public</span> <a class="code" href="classDBus_1_1InterfaceProxy.html">DBus::InterfaceProxy</a> {</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">org_freedesktop_Avahi_ServiceBrowserProxy(std::string name );</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> std::shared_ptr&lt;Avahi::org_freedesktop_Avahi_ServiceBrowserProxy&gt; create(std::string name = <span class="stringliteral">&quot;org.freedesktop.Avahi.ServiceBrowser&quot;</span> );</div>
<div class="line">    <span class="keywordtype">void</span> Free( );</div>
<div class="line">    <span class="keywordtype">void</span> Start( );</div>
<div class="line">    std::shared_ptr&lt;<a class="code" href="classDBus_1_1SignalProxy.html">DBus::SignalProxy</a>&lt;void(int32_t,int32_t,std::string,std::string,std::string,uint32_t)&gt;&gt; signal_ItemNew( );</div>
<div class="line">    std::shared_ptr&lt;<a class="code" href="classDBus_1_1SignalProxy.html">DBus::SignalProxy</a>&lt;void(int32_t,int32_t,std::string,std::string,std::string,uint32_t)&gt;&gt; signal_ItemRemove( );</div>
<div class="line">    std::shared_ptr&lt;<a class="code" href="classDBus_1_1SignalProxy.html">DBus::SignalProxy</a>&lt;void(std::string)&gt;&gt; signal_Failure( );</div>
<div class="line">    std::shared_ptr&lt;<a class="code" href="classDBus_1_1SignalProxy.html">DBus::SignalProxy</a>&lt;void()&gt;&gt; signal_AllForNow( );</div>
<div class="line">    std::shared_ptr&lt;<a class="code" href="classDBus_1_1SignalProxy.html">DBus::SignalProxy</a>&lt;void()&gt;&gt; signal_CacheExhausted( );</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    std::shared_ptr&lt;<a class="code" href="classDBus_1_1MethodProxy.html">DBus::MethodProxy</a>&lt;void()&gt;&gt;  m_method_Free;</div>
<div class="line">    std::shared_ptr&lt;<a class="code" href="classDBus_1_1MethodProxy.html">DBus::MethodProxy</a>&lt;void()&gt;&gt;  m_method_Start;</div>
<div class="line">    std::shared_ptr&lt;<a class="code" href="classDBus_1_1SignalProxy.html">DBus::SignalProxy</a>&lt;void(int32_t,int32_t,std::string,std::string,std::string,uint32_t)&gt;&gt; m_signalproxy_ItemNew;</div>
<div class="line">    std::shared_ptr&lt;<a class="code" href="classDBus_1_1SignalProxy.html">DBus::SignalProxy</a>&lt;void(int32_t,int32_t,std::string,std::string,std::string,uint32_t)&gt;&gt; m_signalproxy_ItemRemove;</div>
<div class="line">    std::shared_ptr&lt;<a class="code" href="classDBus_1_1SignalProxy.html">DBus::SignalProxy</a>&lt;void(std::string)&gt;&gt; m_signalproxy_Failure;</div>
<div class="line">    std::shared_ptr&lt;<a class="code" href="classDBus_1_1SignalProxy.html">DBus::SignalProxy</a>&lt;void()&gt;&gt; m_signalproxy_AllForNow;</div>
<div class="line">    std::shared_ptr&lt;<a class="code" href="classDBus_1_1SignalProxy.html">DBus::SignalProxy</a>&lt;void()&gt;&gt; m_signalproxy_CacheExhausted;</div>
<div class="line">};</div>
<div class="line">} <span class="comment">/* namespace Avahi */</span></div>
<div class="line"><span class="preprocessor">#endif </span><span class="comment">/* ORG_FREEDESKTOP_AVAHI_SERVICEBROWSERPROXY_H */</span><span class="preprocessor"></span></div>
<div class="ttc" id="aclassDBus_1_1InterfaceProxy_html"><div class="ttname"><a href="classDBus_1_1InterfaceProxy.html">DBus::InterfaceProxy</a></div><div class="ttdoc">An InterfaceProxy represents a remote Interface in another application on the DBus.</div><div class="ttdef"><b>Definition:</b> interfaceproxy.h:43</div></div>
<div class="ttc" id="aclassDBus_1_1MethodProxy_html"><div class="ttname"><a href="classDBus_1_1MethodProxy.html">DBus::MethodProxy</a></div><div class="ttdef"><b>Definition:</b> interfaceproxy.h:30</div></div>
<div class="ttc" id="aclassDBus_1_1SignalProxy_html"><div class="ttname"><a href="classDBus_1_1SignalProxy.html">DBus::SignalProxy</a></div><div class="ttdef"><b>Definition:</b> signalproxy.h:26</div></div>
</div><!-- fragment --><p>Each interface that is found in the Introspection XML document will hav a new class created for it, and added to the main proxy class for use. The generated methods will act just as normal methods on an object that exists in the local application, but they will get called ver the bus. Signals are prefixed with <code>signal_</code> to make it more obvious what they are. Properties are similar to methods, in that they do not have a prefix before them.</p>
<h1><a class="anchor" id="autotoc_md43"></a>
Adapter Example</h1>
<p>If we instead want to implement a class from an already-existing introspection document, we create an adapter using the following command: </p><pre class="fragment">dbus-cxx-xml2cpp  --adapter --xml=/path/to/org.freedesktop.Avahi.ServerBrowser.xml --file
</pre><p> Several classes will be generated. As before, we get one class per interface that is in the instrospection file, a master Adapter class, plus a pure virtual class that we must implement in order to receive method calls.</p>
<p>The main adapter class, which is what you will need to export on the bus:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#ifndef SERVICEBROWSERADAPTER_H</span></div>
<div class="line"><span class="preprocessor">#define SERVICEBROWSERADAPTER_H</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;dbus-cxx.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;org_freedesktop_Avahi_ServiceBrowserInterface.h&quot;</span></div>
<div class="line"><span class="keyword">namespace </span>Avahi {</div>
<div class="line"><span class="keyword">class </span>ServiceBrowserAdapter</div>
<div class="line"> : <span class="keyword">public</span> <a class="code" href="classDBus_1_1Object.html">DBus::Object</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">ServiceBrowserAdapter(std::shared_ptr&lt;org_freedesktop_Avahi_ServiceBrowserInterface&gt; _org_freedesktop_Avahi_ServiceBrowserInterface, std::string path );</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> std::shared_ptr&lt;ServiceBrowserAdapter&gt; create(std::shared_ptr&lt;DBus::Connection&gt; connection, std::shared_ptr&lt;org_freedesktop_Avahi_ServiceBrowserInterface&gt; _org_freedesktop_Avahi_ServiceBrowserInterface, std::string path, <a class="code" href="namespaceDBus.html#afe27044063df28784038ce01c2e7f525">DBus::ThreadForCalling</a> calling_thread = <a class="code" href="namespaceDBus.html#afe27044063df28784038ce01c2e7f525a5e4ad822bb12635d22f90ab2259ff7fa">DBus::ThreadForCalling::DispatcherThread</a> );</div>
<div class="line">};</div>
<div class="line">} <span class="comment">/* namespace Avahi */</span></div>
<div class="line"><span class="preprocessor">#endif </span><span class="comment">/* SERVICEBROWSERADAPTER_H */</span><span class="preprocessor"></span></div>
<div class="ttc" id="aclassDBus_1_1Object_html"><div class="ttname"><a href="classDBus_1_1Object.html">DBus::Object</a></div><div class="ttdoc">An Object represents a local object that is able to be called over the DBus.</div><div class="ttdef"><b>Definition:</b> object.h:50</div></div>
</div><!-- fragment --><p>The adapter class, whic contains the signals on this interface. You must also give it a pointerto a pure virtual class that implements the methods on this interface:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#ifndef ORG_FREEDESKTOP_AVAHI_SERVICEBROWSERINTERFACE_H</span></div>
<div class="line"><span class="preprocessor">#define ORG_FREEDESKTOP_AVAHI_SERVICEBROWSERINTERFACE_H</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;dbus-cxx.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;org_freedesktop_Avahi_ServiceBrowser.h&quot;</span></div>
<div class="line"><span class="keyword">namespace </span>Avahi {</div>
<div class="line"><span class="keyword">class </span>org_freedesktop_Avahi_ServiceBrowserInterface</div>
<div class="line"> : <span class="keyword">public</span> <a class="code" href="classDBus_1_1Interface.html">DBus::Interface</a> {</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">org_freedesktop_Avahi_ServiceBrowserInterface(org_freedesktop_Avahi_ServiceBrowser* adaptee, std::string name );</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> std::shared_ptr&lt;org_freedesktop_Avahi_ServiceBrowserInterface&gt; create(org_freedesktop_Avahi_ServiceBrowser* adaptee, std::string name = <span class="stringliteral">&quot;org.freedesktop.Avahi.ServiceBrowser&quot;</span> );</div>
<div class="line">    std::shared_ptr&lt;<a class="code" href="classDBus_1_1Signal.html">DBus::Signal</a>&lt;void(int32_t,int32_t,std::string,std::string,std::string,uint32_t)&gt;&gt; signal_ItemNew( );</div>
<div class="line">    <span class="keywordtype">void</span> ItemNew(int32_t _interface, int32_t protocol, std::string name, std::string <a class="code" href="namespaceDBus.html#a6895c97ac1da386c30fe85ce82457bfb">type</a>, std::string domain, uint32_t flags );</div>
<div class="line">    std::shared_ptr&lt;<a class="code" href="classDBus_1_1Signal.html">DBus::Signal</a>&lt;void(int32_t,int32_t,std::string,std::string,std::string,uint32_t)&gt;&gt; signal_ItemRemove( );</div>
<div class="line">    <span class="keywordtype">void</span> ItemRemove(int32_t _interface, int32_t protocol, std::string name, std::string <a class="code" href="namespaceDBus.html#a6895c97ac1da386c30fe85ce82457bfb">type</a>, std::string domain, uint32_t flags );</div>
<div class="line">    std::shared_ptr&lt;<a class="code" href="classDBus_1_1Signal.html">DBus::Signal</a>&lt;void(std::string)&gt;&gt; signal_Failure( );</div>
<div class="line">    <span class="keywordtype">void</span> Failure(std::string error );</div>
<div class="line">    std::shared_ptr&lt;<a class="code" href="classDBus_1_1Signal.html">DBus::Signal</a>&lt;void()&gt;&gt; signal_AllForNow( );</div>
<div class="line">    <span class="keywordtype">void</span> AllForNow( );</div>
<div class="line">    std::shared_ptr&lt;<a class="code" href="classDBus_1_1Signal.html">DBus::Signal</a>&lt;void()&gt;&gt; signal_CacheExhausted( );</div>
<div class="line">    <span class="keywordtype">void</span> CacheExhausted( );</div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line">    std::shared_ptr&lt;<a class="code" href="classDBus_1_1Signal.html">DBus::Signal</a>&lt;void(int32_t,int32_t,std::string,std::string,std::string,uint32_t)&gt;&gt; m_signal_ItemNew;</div>
<div class="line">    std::shared_ptr&lt;<a class="code" href="classDBus_1_1Signal.html">DBus::Signal</a>&lt;void(int32_t,int32_t,std::string,std::string,std::string,uint32_t)&gt;&gt; m_signal_ItemRemove;</div>
<div class="line">    std::shared_ptr&lt;<a class="code" href="classDBus_1_1Signal.html">DBus::Signal</a>&lt;void(std::string)&gt;&gt; m_signal_Failure;</div>
<div class="line">    std::shared_ptr&lt;<a class="code" href="classDBus_1_1Signal.html">DBus::Signal</a>&lt;void()&gt;&gt; m_signal_AllForNow;</div>
<div class="line">    std::shared_ptr&lt;<a class="code" href="classDBus_1_1Signal.html">DBus::Signal</a>&lt;void()&gt;&gt; m_signal_CacheExhausted;</div>
<div class="line">};</div>
<div class="line">} <span class="comment">/* namespace Avahi */</span></div>
<div class="line"><span class="preprocessor">#endif </span><span class="comment">/* ORG_FREEDESKTOP_AVAHI_SERVICEBROWSERINTERFACE_H */</span><span class="preprocessor"></span></div>
<div class="ttc" id="aclassDBus_1_1Interface_html"><div class="ttname"><a href="classDBus_1_1Interface.html">DBus::Interface</a></div><div class="ttdoc">An Interface represents a local copy of a DBus interface.</div><div class="ttdef"><b>Definition:</b> interface.h:41</div></div>
<div class="ttc" id="aclassDBus_1_1Signal_html"><div class="ttname"><a href="classDBus_1_1Signal.html">DBus::Signal</a></div><div class="ttdef"><b>Definition:</b> signal.h:20</div></div>
<div class="ttc" id="anamespaceDBus_html_a6895c97ac1da386c30fe85ce82457bfb"><div class="ttname"><a href="namespaceDBus.html#a6895c97ac1da386c30fe85ce82457bfb">DBus::type</a></div><div class="ttdeci">DataType type(const uint8_t &amp;)</div><div class="ttdef"><b>Definition:</b> types.h:137</div></div>
</div><!-- fragment --><p>And finally, the pure virtual class that must be implemented in order to have methods that are called over the <a class="el" href="namespaceDBus.html" title="Global DBus namespace, where everything happens.">DBus</a>:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#ifndef ORG_FREEDESKTOP_AVAHI_SERVICEBROWSER_H</span></div>
<div class="line"><span class="preprocessor">#define ORG_FREEDESKTOP_AVAHI_SERVICEBROWSER_H</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>org_freedesktop_Avahi_ServiceBrowser</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> Free( ) = 0;</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> Start( ) = 0;</div>
<div class="line">};</div>
<div class="line"><span class="preprocessor">#endif </span><span class="comment">/* ORG_FREEDESKTOP_AVAHI_SERVICEBROWSER_H */</span><span class="preprocessor"></span></div>
</div><!-- fragment --><p>The idea behind the pure virtual class is that any class that needs to be called over the <a class="el" href="namespaceDBus.html" title="Global DBus namespace, where everything happens.">DBus</a> needs only a minimal amount of support in order to add the ability to have methods called over the bus. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Dec 17 2022 09:57:20 for dbus-cxx by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
