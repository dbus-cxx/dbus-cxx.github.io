<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>dbus-cxx: dbus-cxx Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link rel="icon" type="image/png" href="favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="favicon.svg" />
<link rel="shortcut icon" href="favicon.ico" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="dbus-cxx-logo-doxygen.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">dbus-cxx
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">dbus-cxx Library </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="mainpage"></a></p>
<h1><a class="anchor" id="autotoc_md0"></a>
About</h1>
<p >dbus-cxx is a C++ implementation of the DBus protocol. It does not use the reference C implementation of libdbus at all in order to provide a tight C++-like interface, and to fix known multithreading problems with libdbus. libsigc++ is used to help provide an OO interface to the bus. Also included is dbus-cxx-xml2cpp to generate proxy and adapter interfaces from DBus XML introspection-like documents.</p>
<h2><a class="anchor" id="autotoc_md1"></a>
Features</h2>
<p >dbus-cxx has a number of features that gives the user a large number of ways of solving problems. Other dbus libraries that exist do not have quite the same features. The following is a list of some of the best features provided by the library:</p>
<ul>
<li>Native C++ library - no C bindings required</li>
<li>Object-Oriented interface - clearly separate various concerns</li>
<li>Typesafe operations over the bus - methods and signals are declared using templates, ensuring that types are properly represented</li>
<li>Minimal boilerplate required - calling a function over the bus looks exactly like calling a local method. Methods that can be called over the bus need no special boilerplate to demarshal the data from the bus</li>
<li>Designed with thread safety in mind - methods can be called from the bus on the DBus thread or in a separate thread</li>
<li>Hooks into your existing event loop - use Qt, GLib, or libuv as your main event loop without requiring a new thread</li>
<li>Automatic introspection data generation - define your API in C++ by exporting objects, and the introspection XML will be automatically generated for you</li>
<li>Modern memory management using <code>shared_ptr</code> - ensures that resources are not destroyed until they are no longer being used</li>
<li>Multiple return values supported</li>
<li>dbus types are represented as standard C++ types(e.g. std::map, std::vector, std::tuple)</li>
</ul>
<h3><a class="anchor" id="autotoc_md2"></a>
Easy method calling and automatic XML generation for your API</h3>
<p >This is in my opinion the best feature of dbus-cxx, making it very easy to add methods and easily expand the API without worrying about customizing the introspection XML or defining C structs that define your API.</p>
<p >Let's say that we have a method that we want to export on the bus so that it can be called by another process:</p>
<div class="fragment"><div class="line"><span class="keywordtype">double</span> add( <span class="keywordtype">double</span> param1, <span class="keywordtype">double</span> param2 )      { <span class="keywordflow">return</span> param1 + param2; }</div>
</div><!-- fragment --><p >This method can then be exported onto the bus with a snigle line of code(apart from
standard boilerplate to setup the bus):</p>
<div class="fragment"><div class="line"><span class="comment">// ... standard boilerplate here ...</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// Assume that &#39;Object&#39; is of type std::shared_ptr&lt;DBus::Object&gt;</span></div>
<div class="line"><span class="keywordtype">object</span>-&gt;create_method&lt;double(<span class="keywordtype">double</span>,<span class="keywordtype">double</span>)&gt;(<span class="stringliteral">&quot;Calculator.Basic&quot;</span>, <span class="stringliteral">&quot;add&quot;</span>, sigc::ptr_fun(add) );</div>
</div><!-- fragment --><p >Congratulations! We have now exported a method out onto the bus that can be called, and the implementation of the method is <em>exactly the same</em> as if it is not a method that needs to be called over the bus. Since there is no DBus-specific boilerplate code required in the method that is being called, the implementation of the function proceeeds the same no matter if the method is called from the bus or not.</p>
<p >When we export the object onto the bus, it is automatically introspectable. Given the above <code>create_method</code> call, our (summarised) introspection XML now looks like:</p>
<div class="fragment"><div class="line">$ dbus-send --session --dest=dbuscxx.example.calculator.server --print-reply /dbuscxx/example/Calculator org.freedesktop.DBus.Introspectable.Introspect</div>
<div class="line">method return time=1737689252.147296 sender=:1.562 -&gt; destination=:1.563 serial=3 reply_serial=2</div>
<div class="line">   string &quot;&lt;!DOCTYPE node PUBLIC &quot;-//freedesktop//DTD D-BUS Object Introspection 1.0//EN&quot;</div>
<div class="line">&quot;http://www.freedesktop.org/standards/dbus/1.0/introspect.dtd&quot;&gt;</div>
<div class="line">&lt;node name=&quot;/dbuscxx/example/Calculator&quot;&gt;</div>
<div class="line">  &lt;!-- ... boilerplate here ... --&gt;</div>
<div class="line">  &lt;interface name=&quot;Calculator.Basic&quot;&gt;</div>
<div class="line">    &lt;method name=&quot;add&quot;&gt;</div>
<div class="line">      &lt;arg type=&quot;d&quot; direction=&quot;out&quot;/&gt;</div>
<div class="line">      &lt;arg type=&quot;d&quot; direction=&quot;in&quot;/&gt;</div>
<div class="line">      &lt;arg type=&quot;d&quot; direction=&quot;in&quot;/&gt;</div>
<div class="line">    &lt;/method&gt;</div>
<div class="line">    &lt;!-- ... more methods here ... --&gt;</div>
<div class="line">  &lt;/interface&gt;</div>
<div class="line">&lt;/node&gt;</div>
<div class="line">&quot;</div>
</div><!-- fragment --><p >A similar mechanism can be used to create a proxy function - a function that when called, will in reality send a message over the DBus and wait for the return. This requires only a few lines of code to accomplish:</p>
<div class="fragment"><div class="line"><span class="comment">// ... boilerplate here ...</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Assume that `object` is of type std::shared_ptr&lt;DBus::ObjectProxy&gt;</span></div>
<div class="line"><a class="code hl_class" href="classDBus_1_1MethodProxy.html">DBus::MethodProxy</a>&lt;double(<span class="keywordtype">double</span>,<span class="keywordtype">double</span>)&gt;&amp; methodref = *(<span class="keywordtype">object</span>-&gt;create_method&lt;double(<span class="keywordtype">double</span>,<span class="keywordtype">double</span>)&gt;(<span class="stringliteral">&quot;Calculator.Basic&quot;</span>, <span class="stringliteral">&quot;add&quot;</span>));</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">double</span> answer;</div>
<div class="line">answer = methodref( 1.0, 2.0 );</div>
<div class="ttc" id="aclassDBus_1_1MethodProxy_html"><div class="ttname"><a href="classDBus_1_1MethodProxy.html">DBus::MethodProxy</a></div><div class="ttdef"><b>Definition:</b> interfaceproxy.h:30</div></div>
</div><!-- fragment --><p >As you can see, calling the method looks <em>exactly the same</em> as calling a local method, without requiring the caller to marshal any data into a message or explicitly wait for a reply. Replies can always be done in an asynchronous manner, ensuring that the calling thread does not block.</p>
<p >While these examples show only doubles, all standard types are supported. See the <a class="el" href="dbus-types.html">DBus Types</a> page for more information on the different types that are supported.</p>
<p >For more information on these examples, look in the <code>examples/basics/methods</code> directory.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Known Limitations</h2>
<p >While no library is perfect, I believe that dbus-cxx fulfills the vast majority of use-cases required for DBus operation. Some known limitations are:</p>
<ul>
<li>ObjectManager support may not properly deregister if you are constantly deleting/creating objects.</li>
<li>Windows is somewhat supported - some developers have succesfully used it on Windows, but this is not well supported at the moment.</li>
<li>The API does not always prevent you from doing something incorrectly</li>
<li>Variants are fully supported, but are immutable when created</li>
</ul>
<p >Most of these limitations are generally not an issue, and most have easy workarounds. If you do run into a shortcoming, please open an issue in Github and it will be taken a look at.</p>
<hr  />
 <h2><a class="anchor" id="autotoc_md5"></a>
Download dbus-cxx source code</h2>
<p ><b>NOTE:</b> Pre-built binary packages used to be provided through a private apt server, but this is no longer the case. If you are willing to help provide packages such as this, please get in touch by using the 'discussions' tab on Github!</p>
<p >Releases - (.bz2, .gz, .zip) can be found on <a href="http://sourceforge.net/projects/dbus-cxx/files">Sourceforge</a> and <a href="https://github.com/dbus-cxx/dbus-cxx/releases">Github</a></p>
<p ><a class="el" href="building-from-source.html">Source building directions</a></p>
<h3><a class="anchor" id="autotoc_md6"></a>
Git Repository</h3>
<p >You can browse the git repository at this url:</p>
<p ><a href="https://github.com/dbus-cxx/dbus-cxx">https://github.com/dbus-cxx/dbus-cxx</a></p>
<p >You can also check out a copy of the repository with this command: </p><div class="fragment"><div class="line">git clone https://github.com/dbus-cxx/dbus-cxx.git</div>
</div><!-- fragment --><hr  />
<p> Dependencies... and where to get them</p>
<p >dbus: <a href="http://dbus.freedesktop.org">http://dbus.freedesktop.org</a> - Should be installed by default (runtime dependency) <br  />
 libsigc++ <a href="https://github.com/libsigcplusplus/libsigcplusplus">https://github.com/libsigcplusplus/libsigcplusplus</a> (compile dependency) <br  />
 See the README file for more information on compile-time dependencies <br  />
 libcppgenerate <a href="https://github.com/rm5248/libcppgenerate">https://github.com/rm5248/libcppgenerate</a> (compile dependency, bundled)</p>
<hr  />
<h2><a class="anchor" id="autotoc_md9"></a>
Documentation, Tutorials, Guides, Quick Start, et. al.</h2>
<p >If you want to jump into the code quickly check out the <a class="el" href="quick-start.html">quick start</a> guide.</p>
<p >dbus-cxx-xml2cpp Reference Documentation on using <a class="el" href="xml2cpp.html">dbus-cxx-xml2cpp</a> to convert DBus XML introspection documents into C++ proxies and adapters.</p>
<p >The API documentation (including the pages you are reading now) have been generated with Doxygen.</p>
<p >The most current documentation for dbus-cxx is available online here:</p><ul>
<li>dbus-cxx - <a href="https://dbus-cxx.github.io">https://dbus-cxx.github.io</a></li>
</ul>
<p >Key sections within the API reference</p><ul>
<li>Namespaces<ul>
<li><a class="el" href="namespaceDBus.html" title="Global DBus namespace, where everything happens.">DBus</a></li>
</ul>
</li>
<li>Detailed class documentation in the <a href="hierarchy.html">Class Hierarchy</a></li>
<li><a href="annotated.html">Class List</a></li>
</ul>
<h3><a class="anchor" id="autotoc_md10"></a>
Getting help</h3>
<p >If you run into problems, you have several options for getting in touch.</p>
<p >Github is the best forum to initiate discussion of some issues that you may have.</p>
<ol type="1">
<li>Github - <a href="https://github.com/dbus-cxx/dbus-cxx/discussions">Discussions</a> and <a href="https://github.com/dbus-cxx/dbus-cxx/issues">Issues</a>. General help should go to the Discussions, while bugs should go to issues.</li>
<li>Mailing lists. These are very old, but they should still work<ul>
<li>Google group(preferred mailing list)<ul>
<li><a href="https://groups.google.com/forum/#!forum/dbus-cxx">Dbus-cxx Google Group</a></li>
</ul>
</li>
<li>Sourceforge Users List (for those using dbus-cxx in their applications)<ul>
<li><a href="http://sourceforge.net/mailarchive/forum.php?forum_name=dbus-cxx-users">Archives</a></li>
<li><a href="http://lists.sourceforge.net/mailman/listinfo/dbus-cxx-users">Subscribe/Unsubscribe</a></li>
</ul>
</li>
<li>Sourceforge Development List (for discussion related to the development of dbus-cxx itself)<ul>
<li><a href="http://sourceforge.net/mailarchive/forum.php?forum_name=dbus-cxx-devel">Archives</a></li>
<li><a href="http://lists.sourceforge.net/mailman/listinfo/dbus-cxx-devel">Subscribe/Unsubscribe</a></li>
</ul>
</li>
</ul>
</li>
</ol>
<h1><a class="anchor" id="autotoc_md11"></a>
License</h1>
<p >dbus-cxx is released under the LGPL-3.0 and/or BSD-3-Clause </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
